<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
        window.onload = function () {
            // set up event for Submit button
            document.getElementById("submit").onclick = processForm;
            // set up reset
            document.getElementById("reset").onclick = resetForm;
        };


        function processForm() {
          //Display how many words were entered
          var RegExSearch; 
          var ans; 
          var txt = document.getElementById("textArea").value;
          var numWords = 0;
          // double spaces mess up the count... reduce them to a single space
          for (i = 0; i < 10; i++) { 
             txt = txt.replaceAll("  ", ' ');
          }   
          if (txt == "") {
              ans = 0; }
          else {
             RegExSearch = txt.match(/\s/g);
             if (RegExSearch == null){  ans = 1; }
             else { ans = RegExSearch.length+1; }        
          }
          numWords = ans; 

          //Display how may occurrences of the search character
          var txtS = document.getElementById("searchChar").value;
          var numSearchChar = 0;
          if (txtS != "") {
             //RegExSearch = txt.match(/\A/gi);
             //RegExSearch = txt.match();
             //RegExSearch = txt.match(new RegExp(pattern);
             //RegExSearch = RegExp("/\\" + txtS + "/g");
             var search_regexp = new RegExp(txtS, "\g\i");
             RegExSearch = txt.match(search_regexp);
             if (RegExSearch == null){  ans = 0; }
             else { ans = RegExSearch.length; }        
             numSearchChar = ans; 
          }
        
          //Display the text in ALL CAPS.  (2 points)
          var txtAllCaps = txt.toUpperCase();
        
          //Display the entered text with the search character removed
          var txtSearchRemoved = txt;
          if (txtS != "") {
             txtSearchRemoved = txtSearchRemoved.replaceAll(txtS, '');
             txtSearchRemoved = txtSearchRemoved.replaceAll(txtS.toLowerCase(), '');
          }

          //Take the current date, add the number of days in the drop down
          // and display the resulting date in the format MM/DD/YYYY. 
          var txtNewDate = "";
          var days = document.getElementById("numDays").value;
          if (days != "") {
             var currDate = new Date();
             var newDate = new Date();
             newDate.setDate(currDate.getDate() + parseInt(days));          
             var formattedDate = new Date(newDate);
             var d = formattedDate.getDate();
             var m =  formattedDate.getMonth();
             m += 1;  // JavaScript months are 0-11
             var y = formattedDate.getFullYear();
             if (d < 10) { d = "0" + d;    }
             if (m < 10) { m = "0" + m;    }
             txtNewDate = (m + "/" + d + "/" + y);
          } else {
             txtNewDate = "";
          }
          // display the answers to the span tags
          document.getElementById("spanNumWords").innerHTML = numWords;
          document.getElementById("spanNumSearchChar").innerHTML = numSearchChar;
          document.getElementById("spanTxtAllCaps").innerHTML = txtAllCaps;
          document.getElementById("spanTxtSearchRemoved").innerHTML = txtSearchRemoved;
          document.getElementById("spanNewDate").innerHTML = txtNewDate;
        
          // cancel the submit so it will not reset all the span tags
          return false;
        }


        function resetForm() {
           // reset the form values
           document.getElementById("searchChar").value = "";
           document.getElementById("textArea").value = "";
           document.getElementById("spanNumWords").innerHTML = "****";
           document.getElementById("spanNumSearchChar").innerHTML = "****";
           document.getElementById("spanTxtAllCaps").innerHTML = "****";
           document.getElementById("spanTxtSearchRemoved").innerHTML = "****";
           document.getElementById("spanNewDate").innerHTML = "****";
        }





</script>
<style>
  table { border-collapse: separate;
          border-spacing: 15px;      }
</style>
</head>
<body>
<h2>Trevor Myer - IT 2320 - Lab 10</h2>
<h3>Working with Strings and Dates</h3>
<form>
<table>
	<tr>
		<td>Select the <strong>Search Character</strong>:</td><td><select id="searchChar">
		                               <option value=""></option>
				       <option value="A">A</option>
				       <option value="B">B</option>
                                       <option value="C">C</option>
                                       <option value="D">D</option>
                                       <option value="E">E</option>
                                       <option value="F">F</option>	                                   
                                       <option value="G">G</option>
                                       <option value="H">H</option>
                                       <option value="I">I</option>
                                       <option value="J">J</option>
                                       <option value="K">K</option>
                                       <option value="L">L</option>
                                       <option value="M">M</option>
                                       <option value="N">N</option>
                                       <option value="O">O</option>
                                       <option value="P">P</option>
                                       <option value="Q">Q</option>
                                       <option value="R">R</option>
                                       <option value="S">S</option>
                                       <option value="T">T</option>
                                       <option value="U">U</option>
                                       <option value="V">V</option>
                                       <option value="W">W</option>
                                       <option value="X">X</option>
                                       <option value="Y">Y</option>
                                       <option value="Z">Z</option>
				   </select>
				</td>
	</tr>
	<tr>
	    <td>Type or paste in some text:</td>
		<td><textarea id="textArea" cols="40" rows="15"></textarea></td>
	</tr>
	<tr>
	    <td>Date Modifier - Number of Days:</td><td><input type="number" id="numDays" ></td>
	</tr>
    <tr>
	    <td>Number of words entered:</td>
	    <td> <span id="spanNumWords">****</span> </td>
	</tr>
	<tr>
	    <td>Number of occurences of the search character:</td>
	    <td> <span id="spanNumSearchChar">****</span> </td>
	</tr>
    <tr>
	    <td>Display the entered text in <strong>ALL CAPS</strong>:</td>
	    <td> <span id="spanTxtAllCaps">****</span> </td>
	</tr>
    <tr>
	    <td>Display the entered text with the search character <strong>removed</strong>:</td>
	    <td> <span id="spanTxtSearchRemoved">****</span> </td>
	</tr>
    <tr>
	    <td>Add the number of days in Date Modifier to the current date<br/>Display the resulting date as MM/DD/YYYY:</td>
	    <td> <span id="spanNewDate">****</span> </td>
            
	</tr>
	<tr>
	   <td><input type="reset" id="reset" name="reset" value="Reset"></td>
           <td><input type="submit" id="submit" name="submit" value="Submit"></td>
	</tr>

</table>
</form>
</body>

</html>
