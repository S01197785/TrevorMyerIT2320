<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        .blacktext { color:black; }
        .redtext {color:red; }
    </style>
    
    <script>
        "use strict";

        // set up the event for the button
        // and put the focus on the input field
        window.onload = function () {
            // set up event for maritalStatus drop down
            document.getElementById("mstatus").onchange = mstatusChange;
            // set up event for Submit button
            document.getElementById("submit").onclick = processForm;
            // set focus to fname field
            //     i used the HTML5 parm autofocus to do this
            document.getElementById("sname").disabled = true;
        };
        
        function mstatusChange() {
          // get the value from mstatus drop down
          // disable or enable spouse name based on value
         var mstatus = document.getElementById("mstatus").value;
          if (mstatus == "Married")
             document.getElementById("sname").disabled = false;
          else
             document.getElementById("sname").disabled = true;
        }
        
        function processForm() {
          // get all the form values
         var fname = document.getElementById("fname").value;
         var lname = document.getElementById("lname").value;
         var address1 = document.getElementById("address1").value;
         var address2 = document.getElementById("address2").value;
         var city = document.getElementById("city").value;
         var state = document.getElementById("state").value;
         var zipcode = document.getElementById("zipcode").value;
         //var gender = document.getElementById("gender").value;
         var dob = document.getElementById("dob").value;
         var mstatus = document.getElementById("mstatus").value;
         var email = document.getElementById("email").value;
         var phone = document.getElementById("phone").value;
         var password = document.getElementById("password").value;
         var password2 = document.getElementById("password2").value;
         var sname = document.getElementById("sname").value;
         //Set a flag saying everything entered is correct
         var formGood = true;
         //Check the fields on the form
         //   if a field fails, then
         //       set the formGood flag to false
         //       set the class for the label to red
         //   else
         //       set the class for the label to black 
         //       (just n case it had been set to red earlier)
         //   endif
         if (lname == "") {
            formGood = false;
            document.getElementById("lnameLabel").className = "redtext";
        } else {
            document.getElementById("lnameLabel").className = "blacktext";
        }        
        if (fname == "") {
            formGood = false;
            document.getElementById("fnameLabel").className = "redtext";
        } else {
            document.getElementById("fnameLabel").className = "blacktext";
        }        
        if (address1 == "") {
            formGood = false;
            document.getElementById("address1Label").className = "redtext";
        } else {
            document.getElementById("address1Label").className = "blacktext";
        }        
        if (address2 == "") {
            formGood = false;
            document.getElementById("address2Label").className = "redtext";
        } else {
            document.getElementById("address2Label").className = "blacktext";
        }        
        if (city == "") {
            formGood = false;
            document.getElementById("cityLabel").className = "redtext";
        } else {
            document.getElementById("cityLabel").className = "blacktext";
        }        
        if (state == "Select a state") {
            formGood = false;
            document.getElementById("stateLabel").className = "redtext";
        } else {
            document.getElementById("stateLabel").className = "blacktext";
        }        
        if (zipcode == "") {
            formGood = false;
            document.getElementById("zipcodeLabel").className = "redtext";
        } else {
            document.getElementById("zipcodeLabel").className = "blacktext";
        }        
        if (dob == "") {
            formGood = false;
            document.getElementById("dobLabel").className = "redtext";
        } else {
            document.getElementById("dobLabel").className = "blacktext";
        }        
        if (mstatus == "Choose one") {
            formGood = false;
            document.getElementById("mstatusLabel").className = "redtext";
        } else {
            document.getElementById("mstatusLabel").className = "blacktext";
        }        
        if (email == "") {
            formGood = false;
            document.getElementById("emailLabel").className = "redtext";
        } else {
            document.getElementById("emailLabel").className = "blacktext";
        }        
        if (phone == "") {
            formGood = false;
            document.getElementById("phoneLabel").className = "redtext";
        } else {
            document.getElementById("phoneLabel").className = "blacktext";
        }        
        if (password == "") {
            formGood = false;
            document.getElementById("passwordLabel").className = "redtext";
        } else {
            document.getElementById("passwordLabel").className = "blacktext";
        }        
        if (password2 == "") {
            formGood = false;
            document.getElementById("password2Label").className = "redtext";
        } else {
            document.getElementById("password2Label").className = "blacktext";
        }        
        if (mstatus == "Married" && sname == "") {
            formGood = false;
            document.getElementById("snameLabel").className = "redtext";
        } else {
            document.getElementById("snameLabel").className = "blacktext";
        }        

        // check that the passwords are the same
        if (password !== password2) {
           formGood = false;
           document.getElementById("passwordLabel").className = "redtext";
           //set the password2 label red also
           document.getElementById("password2Label").className = "redtext";
        } else {
          //set the label classes to blacktext
          if (password !== "") {
             document.getElementById("passwordLabel").className = "blacktext";
             document.getElementById("password2Label").className = "blacktext";
          }
        }   
      
         //if formGood is still true then
         //     submit the form
         // else
         //    display error message
         if (formGood) {
              document.getElementById("errorMsg").innerHTML = "";
              document.getElementById("myForm").submit();
         } else {
              document.getElementById("errorMsg").innerHTML = "Please fix the errors below";
         }

      }

        
        
    </script>
    
    <title>Lab 4 - Forms Processing</title>
</head>

<body>
    <main>
    <form  id="myForm" action="http://www.waynedog.net/formreader.php" method="post"> 
        <h2>Trevor Myer - IT 2320 - Lab 4 - Forms Processing</h2>
        
        <h3><span id="errorMsg" class="redtext"></span></h3>

 
    <table>
    <tr>
        <td><label id="fnameLabel" class="blacktext">First Name</label></td><td><input type="text" id="fname" name="fname" autofocus></td>
        <td><label id="lnameLabel" class="blacktext">Last Name</label></td><td><input type="text" id="lname" name="lname"></td>
    </tr>
    <tr>
        <td><label id="address1Label" class="blacktext">Address</label></td><td><input type="text" id="address1" name="address1"></td>
        <td><label id="address2Label" class="blacktext">Suite or Apt.</label></td><td><input type="text" id="address2" name="address2"></td>
    </tr>
    <tr>
        <td><label id="cityLabel" class="blacktext">City</label></td><td><input type="text" id="city" name="city"></td>
        <td><label id="stateLabel" class="blacktext">State</label></td>
        <td><select name="state" id="state">
                 <option value="Select a state">Select a state</option>
                 <option value="AL">Alabama</option>
                 <option value="AK">Alaska</option>
                 <option value="AZ">Arizona</option>
                 <option value="AR">Arkansas</option>
                 <option value="CA">California</option>
                 <option value="CO">Colorado</option>
                 <option value="CT">Connecticut</option>
                 <option value="DE">Delaware</option>
                 <option value="DC">Dist of Columbia</option>
                 <option value="FL">Florida</option>
                 <option value="GA">Georgia</option>
                 <option value="HI">Hawaii</option>
                 <option value="ID">Idaho</option>
                 <option value="IL">Illinois</option>
                 <option value="IN">Indiana</option>
                 <option value="IA">Iowa</option>
                 <option value="KS">Kansas</option>
                 <option value="KY">Kentucky</option>
                 <option value="LA">Louisiana</option>
                 <option value="ME">Maine</option>
                 <option value="MD">Maryland</option>
                 <option value="MA">Massachusetts</option>
                 <option value="MI">Michigan</option>
                 <option value="MN">Minnesota</option>
                 <option value="MS">Mississippi</option>
                 <option value="MO">Missouri</option>
                 <option value="MT">Montana</option>
                 <option value="NE">Nebraska</option>
                 <option value="NV">Nevada</option>
                 <option value="NH">New Hampshire</option>
                 <option value="NJ">New Jersey</option>
                 <option value="NM">New Mexico</option>
                 <option value="NY">New York</option>
                 <option value="NC">North Carolina</option>
                 <option value="ND">North Dakota</option>
                 <option value="OH">Ohio</option>
                 <option value="OK">Oklahoma</option>
                 <option value="OR">Oregon</option>
                 <option value="PA">Pennsylvania</option>
                 <option value="RI">Rhode Island</option>
                 <option value="SC">South Carolina</option>
                 <option value="SD">South Dakota</option>
                 <option value="TN">Tennessee</option>
                 <option value="TX">Texas</option>
                 <option value="UT">Utah</option>
                 <option value="VT">Vermont</option>
                 <option value="VA">Virginia</option>
                 <option value="WA">Washington</option>
                 <option value="WV">West Virginia</option>
                 <option value="WI">Wisconsin</option>
                 <option value="WY">Wyoming</option>
             </select>        
        </td>
    </tr>
    <tr>
        <td><label id="zipcodeLabel" class="blacktext">ZIP Code</label></td><td><input type="text" id="zipcode" name="zipcode"></td>
    </tr>
    <tr>
        <td><label id="genderLabel" class="blacktext">Gender</label></td>
        <td><input type="radio" id="male" name="gender" value="male" checked>
            <label for="male">Male</label>
            <input type="radio" id="female" name="gender" value="female">
            <label for="female">Female</label>
        </td>
        <td><label id="dobLabel" class="blacktext">Birthdate</label></td><td><input type="date" id="dob" name="dob"></td>
    </tr>
    <tr>
        <td><label id="mstatusLabel" class="blacktext">Marital Status</label></td>
        <td><select name="mstatus" id="mstatus">
               <option value="Choose one">Choose one</option>
               <option value="Single">Single</option>
               <option value="Married">Married</option>
            </select>
        </td>
        <td><label id="snameLabel" class="blacktext">Spouse Name</label></td><td><input type="text" id="sname" name="sname"></td>
    </tr>
    <tr>
        <td><label id="emailLabel" class="blacktext">Email</label></td><td><input type="email" id="email" name="email"></td>
        <td><label id="phoneLabel" class="blacktext">Phone</label></td><td><input type="text" id="phone" name="phone"></td>
    </tr>
    <tr>
        <td><label id="passwordLabel" class="blacktext">Password</label></td><td><input type="password" id="password" name="password"></td>
        <td><label id="password2Label" class="blacktext">Confirm Password</label></td><td><input type="password" id="password2" name="password2"></td>
    </tr>
  </table>
        <input type="button" id="reset" value="RESET">      <input type="button" id="submit" value="SUBMIT">
       
    </form>       
    </main>
</body>
</html>
